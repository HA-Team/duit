app.service('tokkoApi',function(){const h={key:'f26431aec0277d4e7912e2709af35707fb9362e6',lang:'es_ar'},a=function(d,a){let b=new XMLHttpRequest;b.onreadystatechange=function(){4==b.readyState&&200==b.status&&a(b.responseText)},b.open('GET',d,!0),b.send(null)};return{find:function(b,c,g){let e='http://tokkobroker.com/api/v1/'+b+'/?format=json&';if('object'==typeof c)for(let a in c)e+=a+'='+c[a]+'&';else e+='id='+c+'&';a(e+'key='+h.key+'&lang='+h.lang,function(c){'property/get_search_summary'===b?g(JSON.parse(c)):g(JSON.parse(c).objects)})},findOne:function(d,a,b){this.find(d,a,function(c){b(c[0])})},insert:function(a,b,c){let d=new XMLHttpRequest,e='http://tokkobroker.com/api/v1/'+a+'/?key='+h.key,f=JSON.stringify(b);d.open('POST',e,!0),d.setRequestHeader('Content-type','application/json'),d.onreadystatechange=function(){4==d.readyState&&(200==d.status||201==d.status)?c({result:'success',status:d.status}):c({result:'error',status:d.status,result:d.responseText})},d.send(f)}}});