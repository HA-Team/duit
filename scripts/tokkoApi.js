app.service('tokkoApi',function(){const i={key:'f26431aec0277d4e7912e2709af35707fb9362e6',lang:'es_ar'},d=function(c,d){let a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&d(a.responseText)},a.open('GET',c,!0),a.send(null)};return{find:function(a,b,f){let g='http://tokkobroker.com/api/v1/'+a+'/?format=json&';if('object'==typeof b)for(let c in b)g+=c+'='+b[c]+'&';else g+='id='+b+'&';d(g+'key='+i.key+'&lang='+i.lang,function(b){'property/get_search_summary'===a?f(JSON.parse(b)):f(JSON.parse(b).objects)})},findOne:function(c,d,a){this.find(c,d,function(b){a(b[0])})},insert:function(g,a,b){let c=new XMLHttpRequest,d='http://tokkobroker.com/api/v1/'+g+'/?key='+i.key,e=JSON.stringify(a);c.open('POST',d,!0),c.setRequestHeader('Content-type','application/json'),c.onreadystatechange=function(){4==c.readyState&&(200==c.status||201==c.status)?b({result:'success',status:c.status}):b({result:'error',status:c.status,result:c.responseText})},c.send(e)}}});